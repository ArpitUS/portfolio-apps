import React,{useState}from'react';import api from'../api';export default function FileUpload({onUploaded}){const[n,sN]=useState('');const[f,sF]=useState(null);const[l,sL]=useState(false);async function submit(e){e.preventDefault();if(!n||!f)return; sL(true);await api.upload(n,f);sN('');sF(null);onUploaded&&onUploaded();sL(false);}return(<form onSubmit={submit}><input value={n}onChange={e=>sN(e.target.value)}placeholder='Name'/><input type='file'onChange={e=>sF(e.target.files[0])}/><button type='submit'disabled={l}>{l?'Uploading...':'Upload'}</button></form>)}
